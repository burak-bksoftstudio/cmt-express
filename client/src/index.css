@import 'tailwindcss';

@plugin 'tailwindcss-animate';

@custom-variant dark (&:is(.dark *));

@utility container {
  margin-inline: auto;
  padding-inline: 2rem;
  @media (width >= --theme(--breakpoint-sm)) {
    max-width: none;
  }
  @media (width >= 1400px) {
    max-width: 1400px;
  }
}

@theme {
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --color-tremor-brand-faint: hsl(var(--tremor-brand-faint));
  --color-tremor-brand-muted: hsl(var(--tremor-brand-muted));
  --color-tremor-brand-subtle: hsl(var(--tremor-brand-subtle));
  --color-tremor-brand: hsl(var(--tremor-brand));
  --color-tremor-brand-emphasis: hsl(var(--tremor-brand-emphasis));
  --color-tremor-brand-inverted: hsl(var(--tremor-brand-inverted));

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  --ease-apple: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
  --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);

  --transition-duration-250: 250ms;
  --transition-duration-350: 350ms;
  --transition-duration-400: 400ms;

  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;
  --animate-fade-in: fade-in 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  --animate-fade-in-fast: fade-in 0.15s cubic-bezier(0.16, 1, 0.3, 1);
  --animate-fade-out: fade-out 0.2s cubic-bezier(0.16, 1, 0.3, 1);
  --animate-slide-up: slide-up 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  --animate-slide-down: slide-down 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  --animate-scale-in: scale-in 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  --animate-pop-in: pop-in 0.35s cubic-bezier(0.34, 1.56, 0.64, 1);
  --animate-shimmer: shimmer 1.5s infinite;

  --font-sans: Inter, system-ui, sans-serif;
  --font-mono: monospace;

  --shadow-soft:
    0 2px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 16px -4px rgba(0, 0, 0, 0.08);
  --shadow-soft-lg:
    0 4px 12px -4px rgba(0, 0, 0, 0.08), 0 8px 24px -8px rgba(0, 0, 0, 0.12);
  --shadow-glow: 0 0 20px rgba(139, 92, 246, 0.15);
  --shadow-glow-lg: 0 0 40px rgba(139, 92, 246, 0.2);

  @keyframes accordion-down {
    from {
      height: 0;
    }
    to {
      height: var(--radix-accordion-content-height);
    }
  }
  @keyframes accordion-up {
    from {
      height: var(--radix-accordion-content-height);
    }
    to {
      height: 0;
    }
  }
  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  @keyframes fade-out {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }
  @keyframes slide-up {
    from {
      opacity: 0;
      transform: translateY(16px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  @keyframes slide-down {
    from {
      opacity: 0;
      transform: translateY(-16px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  @keyframes scale-in {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }
  @keyframes pop-in {
    0% {
      opacity: 0;
      transform: scale(0.9);
    }
    70% {
      transform: scale(1.02);
    }
    100% {
      opacity: 1;
      transform: scale(1);
    }
  }
  @keyframes shimmer {
    0% {
      transform: translateX(-100%);
    }
    100% {
      transform: translateX(100%);
    }
  }
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

/* ============================================================================
   CSS Variables & Theme
   ============================================================================ */

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 240 10% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 240 10% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 240 10% 3.9%;
    --primary: 262 83% 58%;
    --primary-foreground: 0 0% 98%;
    --secondary: 240 4.8% 95.9%;
    --secondary-foreground: 240 5.9% 10%;
    --muted: 240 4.8% 95.9%;
    --muted-foreground: 240 3.8% 46.1%;
    --accent: 240 4.8% 95.9%;
    --accent-foreground: 240 5.9% 10%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 5.9% 90%;
    --input: 240 5.9% 90%;
    --ring: 262 83% 58%;
    --radius: 0.5rem;

    /* Tremor */
    --tremor-brand-faint: 262 83% 97%;
    --tremor-brand-muted: 262 83% 90%;
    --tremor-brand-subtle: 262 83% 70%;
    --tremor-brand: 262 83% 58%;
    --tremor-brand-emphasis: 262 83% 48%;
    --tremor-brand-inverted: 0 0% 100%;

    /* Custom Animation Variables */
    --apple-ease: cubic-bezier(0.16, 1, 0.3, 1);
    --spring-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .dark {
    --background: 240 10% 3.9%;
    --foreground: 0 0% 98%;
    --card: 240 10% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 240 10% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 262 83% 58%;
    --primary-foreground: 0 0% 98%;
    --secondary: 240 3.7% 15.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 240 3.7% 15.9%;
    --muted-foreground: 240 5% 64.9%;
    --accent: 240 3.7% 15.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 262 83% 58%;

    /* Tremor Dark */
    --tremor-brand-faint: 262 30% 13%;
    --tremor-brand-muted: 262 40% 20%;
    --tremor-brand-subtle: 262 60% 40%;
    --tremor-brand: 262 83% 58%;
    --tremor-brand-emphasis: 262 83% 68%;
    --tremor-brand-inverted: 0 0% 100%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground antialiased;
    font-family: "Inter", system-ui, sans-serif;
  }

  /* Smooth scroll behavior */
  html {
    scroll-behavior: smooth;
  }
}

/* ============================================================================
   Custom Scrollbar
   ============================================================================ */

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-transparent;
}

::-webkit-scrollbar-thumb {
  @apply bg-muted-foreground/20 rounded-full transition-colors duration-200;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-muted-foreground/40;
}

/* Firefox scrollbar */
* {
  scrollbar-width: thin;
  scrollbar-color: hsl(var(--muted-foreground) / 0.2) transparent;
}

/* ============================================================================
   Focus Ring Styles
   ============================================================================ */

.focus-ring {
  @apply focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background transition-shadow duration-200;
}

/* ============================================================================
   Global Animation Classes
   ============================================================================ */

/* Fade In */
.fade-in {
  animation: fadeIn 0.4s var(--apple-ease) forwards;
}

.fade-in-fast {
  animation: fadeIn 0.2s var(--apple-ease) forwards;
}

.fade-in-slow {
  animation: fadeIn 0.6s var(--apple-ease) forwards;
}

/* Slide Up */
.slide-up {
  animation: slideUp 0.4s var(--apple-ease) forwards;
}

.slide-up-fast {
  animation: slideUp 0.25s var(--apple-ease) forwards;
}

/* Slide Down */
.slide-down {
  animation: slideDown 0.4s var(--apple-ease) forwards;
}

/* Stagger children animation */
.stagger-children > * {
  opacity: 0;
  animation: fadeSlideUp 0.4s var(--apple-ease) forwards;
}

.stagger-children > *:nth-child(1) { animation-delay: 0ms; }
.stagger-children > *:nth-child(2) { animation-delay: 50ms; }
.stagger-children > *:nth-child(3) { animation-delay: 100ms; }
.stagger-children > *:nth-child(4) { animation-delay: 150ms; }
.stagger-children > *:nth-child(5) { animation-delay: 200ms; }
.stagger-children > *:nth-child(6) { animation-delay: 250ms; }
.stagger-children > *:nth-child(7) { animation-delay: 300ms; }
.stagger-children > *:nth-child(8) { animation-delay: 350ms; }

/* ============================================================================
   Keyframes
   ============================================================================ */

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeSlideUp {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ============================================================================
   Card Hover Effects
   ============================================================================ */

.card-hover {
  @apply transition-all duration-300;
  transition-timing-function: var(--apple-ease);
}

.card-hover:hover {
  @apply -translate-y-0.5 shadow-lg;
}

/* ============================================================================
   Button Press Effects
   ============================================================================ */

.btn-press {
  @apply transition-all duration-150;
  transition-timing-function: var(--apple-ease);
}

.btn-press:active {
  @apply scale-[0.97];
}

/* ============================================================================
   Input Focus Effects
   ============================================================================ */

.input-focus {
  @apply transition-all duration-200;
  transition-timing-function: var(--apple-ease);
}

.input-focus:focus {
  @apply ring-2 ring-primary/20 border-primary;
}

/* ============================================================================
   Skeleton Shimmer Effect
   ============================================================================ */

.skeleton-shimmer {
  @apply relative overflow-hidden;
}

.skeleton-shimmer::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    90deg,
    transparent,
    hsl(var(--muted-foreground) / 0.05),
    transparent
  );
  animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

/* ============================================================================
   Page Transition Container
   ============================================================================ */

.page-transition {
  animation: pageEnter 0.4s var(--apple-ease) forwards;
}

@keyframes pageEnter {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ============================================================================
   Utility: Disable Animations (for reduced motion)
   ============================================================================ */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
